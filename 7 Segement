#include "stdint.h"
#include "C:/Users/Zezo/Desktop/KeilExamples/tm4c123gh6pm.h"
void LCD_Command(unsigned char command){
	GPIO_PORTA_DATA_R &= ~0xFFF00000;
	GPIO_PORTB_DATA_R = command;
	GPIO_PORTA_DATA_R|=0x80; //rf3naha 1
	//delay(); lesa m3mlnash implemenet
	GPIO_PORTA_DATA_R &= ~0x80; // nzlnaha 0
}
void SystemInit(){}
void LCD_DATA(unsigned char data){
	GPIO_PORTA_DATA_R |=0x20;
	GPIO_PORTB_DATA_R = data;
	GPIO_PORTA_DATA_R|=0x80; //rf3naha 1
	//delay(); lesa m3mlnash implemenet
	GPIO_PORTA_DATA_R &= ~0x80; // nzlnaha 0
}
void LCDGoTo(unsigned char x,unsigned char y){
	unsigned char firstAdd[]={0x80,0xC0};
	LCD_Command(firstAdd[y-1] + x-1);
	//delay mn3rfsh howa kam bardo haha eks dee
}
void LCDPrint(char *str){ //print 
	unsigned char i=0;
	while(str[i] !=0)
		{
			LCD_DATA(str[i]);
			i++;
		}

}
void init(){
	SYSCTL_RCGCGPIO_R |=0X03; //port a&b
	while((SYSCTL_PRGPIO_R&0x30)==0); //clock 
	GPIO_PORTB_DIR_R=0xFF;  // all port b output
	GPIO_PORTB_DEN_R =0xFF; // all port b digital
	GPIO_PORTB_AFSEL_R =0;  // all port b disbale alternative fucntion
	GPIO_PORTB_AMSEL_R =0;  // 	all port b disable analog
	GPIO_PORTA_DIR_R |=0xE0;  // port 1110 0000 R5/R6/R7
	GPIO_PORTA_DEN_R |=0xE0; // 1110 0000
	GPIO_PORTA_AFSEL_R &= ~0xFFF00000; // diable alnernative
	GPIO_PORTA_AMSEL_R &= ~0xFFF00000; //disable analog
	GPIO_PORTB_PCTL_R =0x00000000; // gpio
	GPIO_PORTA_PCTL_R &= ~0xFFF00000;  //
	LCD_Command(0x38);
	LCD_Command(0x0f);
	LCD_Command(0x01);
	
}
int main(){
	init();
		LCD_Command(1);
		LCDGoTo(1,1);
		LCDPrint("Welcome");
		LCDGoTo(1,2);
		if((GPIO_PORTF_DATA_R&0x11)==0x00) 
		{
			LCDPrint("Distance more than 100 meter");
			
		}
		else{
			LCDPrint("Distance didnt exceed 100 meter");
		}
	
}
